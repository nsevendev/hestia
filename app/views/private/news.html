{{ define "private/news" }}
{{ template "layoutPrivate" . }}
{{ end }}

{{ define "news" }}

<h2 class="title">Créer une actualité</h2>

<form method="POST" action="/dashboard/news" enctype="multipart/form-data">

    <label for="title">Titre :</label>
    <input type="text" id="title" name="title" required>

    <br>

    <label for="content">Contenu :</label>
    <textarea id="content" name="content" required></textarea>

    <br>

    <label for="image">Image d'illustration :</label>
    <input type="file" id="image" name="image" accept="image/*">

    <br>

    <button type="submit">Créer l'actualité</button>

</form>

<hr>

<h2>Liste des actualités</h2>
<ul>
    {{ range .News }}
    <li>
        <strong>{{ .Title }}</strong> - Créé le : {{ .CreatedAt }}<br>
        {{ .Content }}<br>
        {{ if .MediaImage }}
        <!-- Affiche l'image si le média est présent (supposant que MediaImage possède une propriété URL) -->
        <img src="{{ .MediaImage.URL }}" alt="Illustration" style="max-width:200px;">
        {{ end }}
    </li>
    {{ else }}
    <li>Aucune actualité disponible.</li>
    {{ end }}
</ul>
{{ end }}